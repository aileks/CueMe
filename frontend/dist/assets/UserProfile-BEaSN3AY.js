import{u as v,r as t,j as e}from"./index-DBKNLjvJ.js";function S(){const{user:r}=v(),[w,b]=t.useState((r==null?void 0:r.username)||""),[f,p]=t.useState((r==null?void 0:r.email)||""),[j,c]=t.useState(""),[o,m]=t.useState(""),[u,x]=t.useState(""),[h,n]=t.useState(""),[a,i]=t.useState({}),[d,l]=t.useState(!1),N=async s=>{s.preventDefault(),l(!0),i({}),n(""),setTimeout(()=>{n("Profile updated successfully!"),l(!1)},1e3)},P=async s=>{if(s.preventDefault(),l(!0),i({}),n(""),o!==u){i({confirmPassword:["Passwords do not match."]}),l(!1);return}setTimeout(()=>{n("Password updated successfully!"),m(""),c(""),x(""),l(!1)},1e3)};return e.jsxs("div",{className:"mx-auto max-w-3xl",children:[e.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"Profile Settings"}),h&&e.jsx("div",{className:"mb-6 border-l-4 border-accent bg-accent/20 p-4 text-muted-foreground",children:h}),e.jsxs("div",{className:"grid gap-8 md:grid-cols-1",children:[e.jsxs("div",{className:"neu-card",children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Account Information"}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"username",className:"mb-2 block font-medium",children:"Username"}),e.jsx("input",{id:"username",type:"text",className:"neu-input w-full",value:w,onChange:s=>b(s.target.value),required:!0}),a.username&&e.jsx("p",{className:"mt-1 text-destructive",children:a.username[0]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"email",className:"mb-2 block font-medium",children:"Email"}),e.jsx("input",{id:"email",type:"email",className:"neu-input w-full",value:f,onChange:s=>p(s.target.value),required:!0}),a.email&&e.jsx("p",{className:"mt-1 text-destructive",children:a.email[0]})]}),e.jsx("button",{type:"submit",className:"neu-button",disabled:d,children:d?"Updating...":"Update Profile"})]})]}),e.jsxs("div",{className:"neu-card",children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Change Password"}),e.jsxs("form",{onSubmit:P,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"currentPassword",className:"mb-2 block font-medium",children:"Current Password"}),e.jsx("input",{id:"currentPassword",type:"password",className:"neu-input w-full",value:j,onChange:s=>c(s.target.value),required:!0}),a.currentPassword&&e.jsx("p",{className:"mt-1 text-destructive",children:a.currentPassword[0]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"newPassword",className:"mb-2 block font-medium",children:"New Password"}),e.jsx("input",{id:"newPassword",type:"password",className:"neu-input w-full",value:o,onChange:s=>m(s.target.value),required:!0}),a.newPassword&&e.jsx("p",{className:"mt-1 text-destructive",children:a.newPassword[0]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"mb-2 block font-medium",children:"Confirm New Password"}),e.jsx("input",{id:"confirmPassword",type:"password",className:"neu-input w-full",value:u,onChange:s=>x(s.target.value),required:!0}),a.confirmPassword&&e.jsx("p",{className:"mt-1 text-destructive",children:a.confirmPassword[0]})]}),e.jsx("button",{type:"submit",className:"neu-button",disabled:d,children:d?"Updating...":"Change Password"})]})]})]})]})}export{S as default};
